{% extends "layout.html" %}
{% block body %}
<div class="row">
  <div class="col-lg-12">
    <div class="page-header">
      <h2>Profile</h2>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-12">
    {{ user.name }}
    {{ user.fullname }}
    {{ user.email }}
  </div>
</div>
{% if user == current_user %}
<div class="row">
  <div class="col-lg-12">
    <h3>Token</h3>
  </div>
</div>
<div class="row">
  <div class="col-lg-12">
    {% if not current_user.token %}
    <a href="/user/token/generate" type="button" class="btn btn-primary">Generate</a>
    {% else %}
    <p>Use <strong>{{ current_user.token }}</strong> for authentication.</p>
    <p><a href="/user/token/revoke" type="button" class="btn btn-default">Revoke</a></p>
    {% endif %}
  </div>
</div>
{% endif %}
<div class="row">
  <div class="col-lg-12">
    <div class="page-header">
      <h2>Datasets</h2>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-12">
    {% for access in accesses %}
      <h3>
        <a href="/user/{{ access.user.name }}">{{ access.user.name }}</a> /
        <a href="/user/{{ access.user.name }}/{{ access.dataset.name }}">{{ access.dataset.name }}</a>
      </h3>
      <p>Dataset description here</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
